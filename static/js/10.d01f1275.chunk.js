(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1282:function(e,a,t){"use strict";t.r(a);var r=t(35),s=t(36),n=t(37),i=t(38),l=t(14),c=t(1),o=t.n(c),m=t(1276),u=t(12),d=t(46),p=t(20),h=(t(686),t(29)),g=t(51);function f(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var t,r=Object(l.a)(e);if(a){var s=Object(l.a)(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return Object(i.a)(this,t)}}var b=function(e){Object(n.a)(t,e);var a=f(t);function t(){var e;Object(r.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={loading:!1,email:"",otp:"",otpSent:!1,password:"",cnfPassword:""},e.mobileChange=function(a){e.setState({email:a.target.value})},e.otpChange=function(a){e.setState({otp:a.target.value})},e.passwordChange=function(a){e.setState({password:a.target.value})},e.cnfPasswordChange=function(a){e.setState({cnfPassword:a.target.value})},e.onSubmit=function(a){a.preventDefault(),e.state.otpSent?e.state.password===e.state.cnfPassword?fetch(g.i+g.d+"save-new-password?email="+e.state.email+"&emailToken="+e.state.otp+"&chgPassword="+e.state.password+"&cnfPassword="+e.state.cnfPassword,{method:"POST"}).then(function(e){return e.json()}).then(function(a){console.log(a),e.setState({loginError:a.message})}).catch(function(a){e.setState({loginError:"Error while processing"})}):e.setState({loginError:"Entered password & confirm passwords are not same."}):fetch(g.i+g.d+"forgot-password?userName="+e.state.email,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.email})}).then(function(e){return e.json()}).then(function(a){201===a.status?(e.setState({otpSent:!0}),e.setState({loginError:a.message})):e.setState({loginError:a.message})}).catch(function(a){e.setState({loginError:"Error while processing"})})},e}return Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"block-center mt-4 wd-xl"},o.a.createElement("style",null,".card img {height: 34px}"),o.a.createElement("div",{className:"card card-flat"},o.a.createElement("div",{className:"card-header text-center bg-default"},o.a.createElement("a",{href:""},o.a.createElement("img",{className:"block-center rounded",src:"img/logo.png",alt:"Logo"}))),o.a.createElement("div",{className:"card-body"},o.a.createElement("p",{className:"text-center py-2"},"PASSWORD RESET"),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("p",{className:"text-center d-none"},"Fill with your mail to receive instructions on how to reset your password."),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"text-muted"},"Email"),o.a.createElement("div",{className:"input-group with-focus"},o.a.createElement(u.n,{type:"text",name:"email",className:"border-right-0",placeholder:"Enter email",disabled:this.state.otpSent,onChange:this.mobileChange,"data-validate":'["required", "email"]',value:this.state.email,minLength:"5",maxLength:"100"}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},o.a.createElement("em",{className:"fa fa-mobile"}))))),this.state.otpSent&&o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"text-muted"},"OTP"),o.a.createElement("div",{className:"input-group with-focus"},o.a.createElement(u.n,{type:"text",name:"otp",className:"border-right-0",placeholder:"Enter OTP",onChange:this.otpChange,"data-validate":'["required", "number"]',value:this.state.otp,minLength:"4",maxLength:"4",pattern:"\\d*",required:!0}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},o.a.createElement("em",{className:"fa fa-key"}))))),this.state.otpSent&&o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"text-muted"},"New Password"),o.a.createElement("div",{className:"input-group with-focus"},o.a.createElement(u.n,{type:"password",id:"id-password",name:"password",className:"border-right-0",placeholder:"New Password",onChange:this.passwordChange,"data-validate":'["required"]',value:this.state.password,minLength:"5",maxLength:"50",required:!0}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},o.a.createElement("em",{className:"fa fa-lock"}))),o.a.createElement("span",{className:"invalid-feedback"},"Field is required"))),this.state.otpSent&&o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"text-muted"},"Confirm Password"),o.a.createElement("div",{className:"input-group with-focus"},o.a.createElement(u.n,{type:"password",id:"id-password1",name:"password1",className:"border-right-0",placeholder:"Confirm Password",onChange:this.cnfPasswordChange,"data-validate":'["required"]',value:this.state.cnfPassword,minLength:"5",maxLength:"50",required:!0}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},o.a.createElement("em",{className:"fa fa-lock"}))),o.a.createElement("span",{className:"invalid-feedback"},"Field is required"))),o.a.createElement("p",null,this.state.loginError),o.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},this.state.otpSent?"Update Password":"Send OTP"))),o.a.createElement("div",{className:"card-footer text-center"},o.a.createElement(m.a,{to:"login",className:"text-muted"},"Back to Login"))),o.a.createElement("div",{className:"p-3 text-center"},o.a.createElement("span",{className:"mr-2"},"\xa9"),o.a.createElement("span",null,"2019"),o.a.createElement("span",{className:"mx-2"},"-"),o.a.createElement("span",null,"SMS Panel")))}}]),t}(c.Component);a.default=Object(d.b)(function(e){return{loginStatus:e.login}},function(e){return{actions:Object(h.bindActionCreators)(p,e)}})(b)},686:function(e,a,t){"use strict";var r=t(57),s=t(56),n=t(117),i=t(732),l=t.n(i),c={validate:function(e){var a="checkbox"===e.type,t=a?e.checked:e.value;if(!e.name)throw new Error("Input name must not be empty.");var r=JSON.parse(e.getAttribute("data-validate")),s=[];return r&&r.length&&r.forEach(function(e){switch(e.key){case"required":if(d=a?!1===t:l.a.isEmpty(t)){var r={key:e.key,msg:"Field is mandatory"};s.push(r)}break;case"email":if(d=!l.a.isEmail(t)){r={key:e.key,msg:"Please enter valid email"};s.push(r)}break;case"number":if(d=!l.a.isNumeric(t)){r={key:e.key,msg:"Field should be number"};s.push(r)}break;case"integer":if(d=!l.a.isInt(t)){r={key:e.key,msg:"Field should be integer"};s.push(r)}break;case"alphanum":if(d=!l.a.isAlphanumeric(t)){r={key:e.key,msg:"Field should be alpha numeric"};s.push(r)}break;case"url":if(d=!l.a.isURL(t)){r={key:e.key,msg:"Field should be url"};s.push(r)}break;case"equalto":var i=document.getElementById(e.param).value;if(d=!l.a.equals(t,i)){r={key:e.key,msg:"Field should be match"};s.push(r)}break;case"minlen":if(d=!l.a.isEmpty(t)&&!l.a.isLength(t,{min:Number(e.param)})){r={key:e.key,msg:"Field should have minimum length: "+e.param};s.push(r)}break;case"maxlen":if(d=!l.a.isEmpty(t)&&!l.a.isLength(t,{max:Number(e.param)})){r={key:e.key,msg:"Field should have maximum length: "+e.param};s.push(r)}break;case"len":var c=JSON.parse(e.param),o=Object(n.a)(c,2),m=o[0],u=o[1];if(d=!l.a.isEmpty(t)&&!l.a.isLength(t,{min:m,max:u})){r={key:e.key,msg:"Field should have min length "+m+" maximum length: "+u};s.push(r)}break;case"min":if(d=!l.a.isInt(t,{min:l.a.toInt(e.param)})){r={key:e.key,msg:"Field should have minimum characters"};s.push(r)}break;case"max":if(d=!l.a.isInt(t,{max:l.a.toInt(e.param)})){r={key:e.key,msg:"Field should not exceed maximum characters"};s.push(r)}break;case"list":var d,p=JSON.parse(e.param);if(d=!l.a.isIn(t,p))r={status:d,message:d?"Invalid value":""};break;default:throw new Error("Unrecognized validator.")}}),s},bulkValidate:function(e){var a=this,t={},n=!1;return e.forEach(function(e){var i=a.validate(e);n||(n=i.length>0),t=Object(s.a)({},t,Object(r.a)({},e.name,i))}),{errors:t,hasError:n}}};a.a=c}}]);
//# sourceMappingURL=10.d01f1275.chunk.js.map